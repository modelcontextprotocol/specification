// client1 & client2 connect to CalcServer; client1 calls set_trig_allowed(allowed=true) tool. client1 gets list of tools that includes cos & sin, and client2 gets list of tools that doesn't
{"from":"client1","to":"CalcServer","message":{"method":"initialize","params":{"protocolVersion":"2025-06-18","capabilities":{"elicitation":{}},"clientInfo":{"name":"test-client","version":"1.0.0"}},"jsonrpc":"2.0","id":0}}
{"from":"CalcServer","to":"client1","message":{"result":{"protocolVersion":"2025-06-18","capabilities":{"elicitation":{},"roots":{},"tools":{"listChanged":true},"resources":{"listChanged":true},"completions":{},"prompts":{"listChanged":true}},"serverInfo":{"name":"CalcServer","version":"1.0.0"}},"jsonrpc":"2.0","id":0}}
{"from":"client1","to":"CalcServer","message":{"method":"notifications/initialized","jsonrpc":"2.0"}}
{"from":"client1","to":"CalcServer","message":{"method":"tools/call","params":{"name":"set_trig_allowed","arguments":{"allowed":true}},"jsonrpc":"2.0","id":1}}
{"from":"CalcServer","to":"client1","message":{"method":"notifications/tools/list_changed","jsonrpc":"2.0"}}
{"from":"CalcServer","to":"client1","message":{"method":"notifications/tools/list_changed","jsonrpc":"2.0"}}
{"from":"CalcServer","to":"client1","message":{"result":{"content":[{"type":"text","text":"Trigonometric functions enabled"}]},"jsonrpc":"2.0","id":1}}
{"from":"client1","to":"CalcServer","message":{"method":"tools/list","jsonrpc":"2.0","id":2}}
{"from":"CalcServer","to":"client1","message":{"result":{"tools":[{"name":"add","title":"Addition","description":"Adds two numbers a and b together and returns the sum","inputSchema":{"type":"object","properties":{"a":{"type":"number","description":"First number"},"b":{"type":"number","description":"Second number"}},"required":["a","b"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"ambiguous_add","title":"Ambiguous Addition","description":"Adds two numbers together but only accepts 'a' input and uses elicitation to request 'b' input from the user","inputSchema":{"type":"object","properties":{"a":{"type":"number","description":"First number"}},"required":["a"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"cos","title":"Cosine","description":"Calculates the cosine of an angle in radians (disabled by default)","inputSchema":{"type":"object","properties":{"angle":{"type":"number","description":"Angle in radians"}},"required":["angle"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"sin","title":"Sine","description":"Calculates the sine of an angle in radians (disabled by default)","inputSchema":{"type":"object","properties":{"angle":{"type":"number","description":"Angle in radians"}},"required":["angle"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"set_trig_allowed","title":"Set Trigonometric Functions Access","description":"Enables or disables trigonometric functions (cos and sin) per-client","inputSchema":{"type":"object","properties":{"allowed":{"type":"boolean","description":"Whether to allow trigonometric functions"}},"required":["allowed"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"write_special_number","title":"Write Special Number","description":"Updates the special number resource with a new value","inputSchema":{"type":"object","properties":{"value":{"type":"number","description":"New value for the special number"}},"required":["value"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"eval_with_sampling","title":"Evaluate Expression with Sampling","description":"Evaluates a string arithmetic expression using LLM sampling to parse and compute the result","inputSchema":{"type":"object","properties":{"expression":{"type":"string","description":"Arithmetic expression to evaluate"}},"required":["expression"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]},"jsonrpc":"2.0","id":2}}
